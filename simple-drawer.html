<link rel="import" href="../polymer/polymer.html"> <dom-module id="simple-drawer"> <template> <style>*,::after,::before,:host{box-sizing:border-box;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}:host{position:fixed;display:block;top:0;bottom:0;background:#fff;z-index:99;overflow:visible;box-shadow:0 0 2px rgba(0,0,0,.2);display:none}:host([disabled]){display:block;position:relative;box-shadow:none;-webkit-transform:none!important;transform:none!important}:host([visible]){display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}:host([position=left]){left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-box-align:end;-ms-flex-align:end;-ms-grid-row-align:flex-end;align-items:flex-end}:host([position=right]){right:0;-webkit-transform:translateX(100%);transform:translateX(100%);-webkit-box-align:start;-ms-flex-align:start;-ms-grid-row-align:flex-start;align-items:flex-start}</style> <content></content> </template> <script src="../web-animations-js/web-animations.min.js">!function(){"use strict"}()</script> <script>!function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n={easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",duration:175},i=function(){function i(){e(this,i)}return t(i,[{key:"beforeRegister",value:function(){this.is="simple-drawer",this.properties={active:{type:Boolean,value:!1,observer:"_activeChanged"},visible:{type:Boolean,value:!1,reflectToAttribute:!0},noEscape:Boolean,noOutsideClick:Boolean,position:{type:String,value:"left",reflectToAttribute:!0},disabled:{type:Boolean,reflectToAttribute:!0},_opened:Boolean,_animationFrames:{type:Array,computed:"_computeAnimationFrames(position)"}}}},{key:"_computeAnimationFrames",value:function(e){var t=void 0;if(e)return t="left"===e?"-100%":"100%",[{transform:"translateZ(0) translateX("+t+")"},{transform:"translateZ(0) translateX(0)"}]}},{key:"_activeChanged",value:function(e){this.disabled||(e?this._toggleDrawer("in"):this._toggleDrawer("out"))}},{key:"_toggleDrawer",value:function(e){var t=this,i=this._animationFrames,o=void 0;i&&("in"===e?(this.visible=!0,o=this.animate(i,n),this.style.transform=i[1].transform,o.onfinish=function(){t._opened=!0,t._bodyLocked(!0)}):(this._opened=!1,o=this.animate(i.reverse(),n),this.style.transform=i.reverse()[1].transform,o.onfinish=function(){t.visible=!1,t._bodyLocked(!1)}))}},{key:"_closeOnOutsideClick",value:function(){var e=this;if(!this.noOutsideClick){var t=function(t){e._opened&&t.target!==e&&e.close()};document.addEventListener("click",t),document.addEventListener("touchend",t)}}},{key:"_closeOnEscape",value:function(){var e=this;this.noEscape||document.addEventListener("keyup",function(t){27===t.keyCode&&e.close()})}},{key:"_bodyLocked",value:function(e){e?document.body.style.overflow="hidden":document.body.style.overflow=""}},{key:"toggle",value:function(e){e&&(e._protected=!0),this.active=!this.active}},{key:"open",value:function(){this.active=!0}},{key:"close",value:function(){this.active=!1}},{key:"ready",value:function(){this._closeOnOutsideClick(),this._closeOnEscape()}}]),i}();Polymer(i)}()</script> </dom-module>